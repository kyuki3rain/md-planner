# UI/UX改善タスクリスト

Iteration 7完了後の追加改善項目

## 優先度: 高

### 1. 各列に「+」ボタンでタスク追加

**現状**: 
- ヘッダーの「新規タスク」ボタンのみ
- どの列に追加されるかが不明確

**改善案**:
- 各ボードカラム(Todo, Doing, Blocked, Done)のヘッダーに「+」ボタンを追加
- クリックすると、そのステータスで新規タスク作成フォームを開く
- タスク作成フォームの`status`フィールドを該当列の値で初期化

**実装ファイル**:
- `webview/src/components/BoardColumn.tsx` (または `DroppableBoardColumn.tsx`)
- `webview/src/views/BoardView.tsx`

**想定工数**: 1-2時間

---

### 2. DnD操作時の残像問題を修正

**現状**:
- タスクをドラッグ&ドロップすると、残像が元の位置に戻ろうとする
- 内部的には移動して更新されるが、UXが悪い

**原因**:
- `@dnd-kit/core`の設定が不適切
- または、より適したライブラリの選定が必要

**改善案**:
1. **オプションA**: `@dnd-kit/core`の設定を最適化
   - `DragOverlay`のアニメーション設定
   - ドロップ後の即座の状態更新
   
2. **オプションB**: モダンなDnDライブラリに移行
   - `react-beautiful-dnd` (Atlassian製、枯れている)
   - `@hello-pangea/dnd` (react-beautiful-dndのフォーク、メンテ継続中)
   - `react-dnd` (柔軟性が高い)

**推奨**: `@hello-pangea/dnd` - Trello/Jiraライクなボードに最適

**実装ファイル**:
- `webview/src/views/BoardView.tsx`
- `webview/src/components/DroppableBoardColumn.tsx`
- `webview/src/components/SortableTaskCard.tsx`

**想定工数**: 3-4時間 (ライブラリ変更の場合)

---

### 3. タスクカードに削除ボタン(×)を追加

**現状**:
- タスク削除は編集モーダルからのみ可能
- 手数が多い

**改善案**:
- 各タスクカードの右上に「×」ボタンを追加
- ホバー時のみ表示してUIをクリーンに保つ
- クリック時に確認モーダルを表示
  - "このタスクを削除しますか?"
  - "キャンセル" / "削除"ボタン

**実装ファイル**:
- `webview/src/components/TaskCard.tsx` - ×ボタン追加
- 新規: `webview/src/components/ConfirmDeleteModal.tsx` - 確認モーダル
- `webview/src/views/BoardView.tsx` - 削除ハンドラー

**実装詳細**:
```tsx
// TaskCard.tsx
<button
  onClick={(e) => {
    e.stopPropagation(); // カードのクリックイベントを阻止
    onDelete(task.id);
  }}
  style={{
    position: 'absolute',
    top: '8px',
    right: '8px',
    opacity: isHovered ? 1 : 0,
    // ... スタイル
  }}
>
  ×
</button>
```

**想定工数**: 2-3時間

---

## 優先度: 中

### 4. タスク作成フォームのステータス初期値

**説明**: 列の「+」ボタンから作成した場合、その列のステータスを初期値にする

**関連**: タスク1の実装に含まれる

---

### 5. ドラッグ中のビジュアルフィードバック改善

**改善案**:
- ドラッグ中のカードを半透明にする
- ドロップ可能な列をハイライト
- ドロップ位置のプレースホルダー表示

**想定工数**: 1-2時間

---

## 優先度: 低

### 6. キーボードショートカット対応

**改善案**:
- `N`: 新規タスク作成
- `Delete`: 選択中のタスク削除
- `E`: 選択中のタスクを編集
- `Esc`: モーダルを閉じる

**想定工数**: 2-3時間

---

### 7. タスクカードのコンパクト表示モード

**改善案**:
- タスクが多い場合、カードを小さく表示するオプション
- タイトルとタグのみ表示

**想定工数**: 1-2時間

---

## 実装優先順位

1. **削除ボタン(×)追加** - すぐに実装可能、UX改善大
2. **列の「+」ボタン** - 直感的なタスク作成
3. **DnD残像問題** - ライブラリ調査が必要

## 技術的検討事項

### DnDライブラリ比較

| ライブラリ | メリット | デメリット | 推奨度 |
|-----------|---------|-----------|--------|
| `@dnd-kit/core` (現行) | 軽量、モダン | 設定が複雑 | ⭐⭐⭐ |
| `@hello-pangea/dnd` | ボード向け、枯れている | やや重い | ⭐⭐⭐⭐⭐ |
| `react-dnd` | 柔軟性高い | 学習コスト高 | ⭐⭐ |

**推奨**: `@hello-pangea/dnd`に移行
- Trello/Jiraのような挙動
- アニメーションが自然
- TypeScript対応が良好
