# MDPlanner 残タスクリスト

> **最終更新**: 2025-10-15 （Iteration 7完了、品質改善フェーズ）
> **進捗**: Iteration 1-7 完了 (100%)、品質改善・将来拡張フェーズ
> **品質**: TypeCheck ✅ | Tests 69/69 ✅ | Build ✅ | Biome ✅
> **次のステップ**: フロントエンドバリデーション・エラーハンドリング強化
> **参照**: [iteration7-completion-report.md](./iteration7-completion-report.md)

---

## 🔄 進行中タスク

### **品質改善・リファクタリング** 🔄 (進行中)

#### 背景・課題
**レビュー＆品質向上で判明した改善ポイント**:
1. **アクセシビリティ改善**
   - Biome a11y lintエラー解消 ✅
   - キーボードナビゲーション対応 ✅
2. **コード規約の整備**
   - import ルールの明文化（ファイル先頭、動的 import 回避）✅
3. **エラーハンドリング強化**
   - フロントエンド事前バリデーション（due フォーマット検証等）
   - 詳細なエラーフィードバック（Webview側でのフィールドフォーカス）
4. **タスク編集の同期修正**
   - TaskEditModal の状態同期バグ修正 ✅
5. **属性ハンドリング改善**
   - board-view-panel での due 検証と型安全性向上 ✅

#### 1. コード規約整備 ✅
- **内容**: docs/コード規約.md への import ルール追記
- **詳細**:
  - ✅ import はファイル先頭で一括宣言するルールを明文化
  - ✅ 動的 import の使用を最小限に制限
  - ✅ 例外ケース（循環依存解消、遅延ロード等）の明記
  - ✅ import の並び順（グループ化・アルファベット順）の推奨
- **参照**: [コード規約.md](./コード規約.md) - 5. コーディングスタイル

#### 2. TaskEditModal 改善 ✅
- **内容**: モーダルの状態同期とアクセシビリティ改善
- **詳細**:
  - ✅ `useEffect` による task prop と isOpen の同期実装
  - ✅ モーダル開閉時のフォームリセット機能
  - ✅ label 要素への htmlFor 属性追加（全7箇所）
  - ✅ onClick 要素へのキーボードイベント対応（Escape キー対応）
  - ✅ role/aria 属性の追加（dialog, aria-modal）
  - ✅ Biome lint エラー完全解消
- **ファイル**: `webview/src/components/TaskEditModal.tsx`

#### 3. board-view-panel 属性ハンドリング改善 ✅
- **内容**: 属性変換ロジックの型安全性と due バリデーション追加
- **詳細**:
  - ✅ `toCreateAttributes` / `toUpdateAttributes` での厳密な型変換
  - ✅ `ensureDueDate` による due の同期バリデーション
  - ✅ 無効な期日の場合は `task:error` で Webview へ通知
  - ✅ 動的 import を排除し、トップレベル import に統一
- **ファイル**: `src/interface/webview/board-view-panel.ts`

#### 4. フロントエンドバリデーション（作業中）
- **内容**: Webview 側での事前バリデーション追加
- **詳細**:
  - [ ] TaskCreateForm での入力バリデーション
  - [ ] TaskEditModal での入力バリデーション
  - [ ] due フォーマットの事前チェック
  - [ ] tags の配列チェック
  - [ ] バリデーションエラーのユーザーフレンドリーな表示
- **ファイル**: 
  - `webview/src/components/TaskCreateForm.tsx`
  - `webview/src/components/TaskEditModal.tsx`

---

## 完了済み

### **Iteration 7: UI/UX改善（実用性向上）** ✅ (完了: 2025-10-15)
1. **タスクが読み込まれない**
   - 初期状態で何も表示されない
   - どのファイルを対象にしているか不明確
2. **サイドバーが狭すぎる**
   - カンバンボードには横幅が必要
   - 4列表示が実用的でない
3. **アイコンが見づらい**
   - 真っ白に見える、識別困難

#### 1. WebviewPanelへの移行 ✅
- **内容**: サイドバーから中央エディタエリアへ表示変更
- **詳細**:
  - [x] `BoardViewPanel` クラス作成（WebviewPanel使用）
  - [x] `vscode.window.createWebviewPanel` で中央表示
  - [x] ViewColumn.Active で配置
  - [x] 既存WebviewView実装は一旦残す（互換用）
- **効果**:
  - カンバンボードに十分な横幅を確保
  - タブとして管理でき、分割表示も可能
  - アクティブエディタと同じグループに表示できるようになった

#### 2. Markdownファイル指定起動 ✅
- **内容**: Markdown Previewスタイルの起動方式
- **詳細**:
  - [x] エディタタイトルバーにボタン追加
  - [x] `md-planner.openBoardForCurrentFile` コマンド実装
  - [x] アクティブMarkdownファイルのパス取得と単一ファイルパース
  - [x] package.json メニュー設定を追加
- **UX**:
  - Markdownファイルを開く → 右上ボタンクリック → 対象ファイルのボードを中央表示
  - 表示対象ファイルが Webview に明示され、混乱が解消

#### 3. アイコン改善 ✅
- **内容**: 視認性の高いアイコン作成
- **詳細**:
  - [x] SVGアイコン再デザイン（高コントラストなグラデーション背景 + カード）
  - [x] ダーク/ライトテーマ両対応のコマンドアイコン追加
  - [x] カンバンボードをイメージしたピクトグラムを実装
  - [x] package.jsonに登録し拡張/コマンド両方に適用

#### 4. package.json更新 ✅
- **内容**: 新しいコマンドとメニューの追加
- **詳細**:
  - [x] コマンド定義追加
  - [x] `editor/title` メニュー設定
  - [x] `when` 条件（Markdownファイル時のみ）
  - [x] `activationEvents` に `onCommand:md-planner.openBoardForCurrentFile` を追加
  - [x] アイコン指定（コマンド/拡張アイコン両対応）
  - [x] VS Code タスクから `mise exec` 経由でビルドするよう修正

**参照資料**:
- [UI改善提案_ボードビュー表示方式.md](./UI改善提案_ボードビュー表示方式.md)
- [実装計画.md](./実装計画.md) - 3.5 UI/UX改善

---

## 未実装タスク (優先順位順)

---

## 完了済み

### **Iteration 7: UI/UX改善（実用性向上）** ✅ (完了: 2025-10-15)

#### 背景・課題
**実際の使用で判明した問題**:
1. **タスクが読み込まれない**
   - 初期状態で何も表示されない
   - どのファイルを対象にしているか不明確
2. **サイドバーが狭すぎる**
   - カンバンボードには横幅が必要
   - 4列表示が実用的でない
3. **アイコンが見づらい**
   - 真っ白に見える、識別困難

#### 1. WebviewPanelへの移行 ✅
- **内容**: サイドバーから中央エディタエリアへ表示変更
- **詳細**:
  - ✅ `BoardViewPanel` クラス作成（WebviewPanel使用）
  - ✅ `vscode.window.createWebviewPanel` で中央表示
  - ✅ ViewColumn.Active で配置
  - ✅ 既存WebviewView実装は一旦残す（互換用）
- **効果**:
  - カンバンボードに十分な横幅を確保
  - タブとして管理でき、分割表示も可能
  - アクティブエディタと同じグループに表示できるようになった

#### 2. Markdownファイル指定起動 ✅
- **内容**: Markdown Previewスタイルの起動方式
- **詳細**:
  - ✅ エディタタイトルバーにボタン追加
  - ✅ `md-planner.openBoardForCurrentFile` コマンド実装
  - ✅ アクティブMarkdownファイルのパス取得と単一ファイルパース
  - ✅ package.json メニュー設定を追加
- **UX**:
  - Markdownファイルを開く → 右上ボタンクリック → 対象ファイルのボードを中央表示
  - 表示対象ファイルが Webview に明示され、混乱が解消

#### 3. アイコン改善 ✅
- **内容**: 視認性の高いアイコン作成
- **詳細**:
  - ✅ SVGアイコン再デザイン（高コントラストなグラデーション背景 + カード）
  - ✅ ダーク/ライトテーマ両対応のコマンドアイコン追加
  - ✅ カンバンボードをイメージしたピクトグラムを実装
  - ✅ package.jsonに登録し拡張/コマンド両方に適用

#### 4. package.json更新 ✅
- **内容**: 新しいコマンドとメニューの追加
- **詳細**:
  - ✅ コマンド定義追加
  - ✅ `editor/title` メニュー設定
  - ✅ `when` 条件（Markdownファイル時のみ）
  - ✅ `activationEvents` に `onCommand:md-planner.openBoardForCurrentFile` を追加
  - ✅ アイコン指定（コマンド/拡張アイコン両対応）
  - ✅ VS Code タスクから `mise exec` 経由でビルドするよう修正

**参照資料**:
- [UI改善提案_ボードビュー表示方式.md](./UI改善提案_ボードビュー表示方式.md)
- [実装計画.md](./実装計画.md) - 3.5 UI/UX改善

---

### **Iteration 1: タスクインデックス構築** ✅

- `Task`エンティティと値オブジェクト (`TaskAttributes`, `TaskStatus`, `DueDate`)
- `TaskFactory`サービス
- `TaskRepository`, `TaskIndexWriter`インターフェース
- `MarkdownTaskParser`実装
- `MemoryTaskIndex`実装
- `FileSystemTaskScanner`実装
- `BuildTaskIndexUseCase`実装
- ユニットテスト完備

### **Iteration 2: タスクCRUDとパッチ機能** ✅

#### ✅ 1. タスクCRUD UseCaseの実装 (完了: 2025-10-09)
- **内容**: `CreateTaskUseCase`, `UpdateTaskUseCase`, `DeleteTaskUseCase`の実装
- **詳細**:
  - ✅ 入出力DTOの定義 (`create-task.input.ts`, `create-task.output.ts` 等)
  - ✅ バリデーションエラー/競合時の挙動テスト
  - ✅ `TaskRepository`モックを利用したユニットテスト
  - ✅ `PatchServicePort`インターフェースの定義
  - ✅ 全12テストケースが成功
- **参照資料**:
  - [実装計画.md](./実装計画.md) - 3.2 タスクCRUDユースケース
  - [コード規約.md](./コード規約.md) - TDD指針、命名規則
  - [仕様書ver1.md](./仕様書ver1.md) - 3. データモデル & 記法

#### ✅ 2. PatchServicePortインターフェースの定義と実装 (完了: 2025-10-09)
- **内容**: Markdown差分適用のポートインターフェースと実装
- **詳細**:
  - ✅ `PatchServicePort` インターフェース定義 (`application/ports/`)
  - ✅ `MarkdownPatchService` 実装（タスク挿入・更新・削除）
  - ✅ タスク行の行番号を保持した精密更新
  - ✅ 既存のインデント・フォーマットを尊重
  - ✅ `FileReaderPort` / `FileWriterPort` インターフェース定義
  - ✅ `VSCodeFileSystem` 実装（VS Codeワークスペース API使用）
  - ✅ `InMemoryFileSystem` テスト用実装
  - ✅ 10テストケース（ユニット8 + 統合2）が成功
- **参照資料**:
  - [仕様書ver1.md](./仕様書ver1.md) - 7. アーキテクチャ (PatchEngine)
  - [仕様書ver1.md](./仕様書ver1.md) - 11. 反映ルール（Patch）
  - [コンポーネント設計_パッチサービス.md](./コンポーネント設計_パッチサービス.md)

#### ✅ 追加: 既存コードの型エラー解消 (完了: 2025-10-09)
- **内容**: Iteration 1の既存コードに残っていた型エラーを全て解消
- **詳細**:
  - ✅ `markdown-task-parser.spec.ts` の readonly配列型エラー修正
  - ✅ `markdown-task-parser.ts` の readonly プロパティ代入エラー修正
  - ✅ `TaskAttributesInput` の適切な構築方法に修正
  - ✅ defaults マージロジックの正常動作確認
  - ✅ TypeScript型チェック完全通過（エラー0件）
- **成果**: 
  - プロジェクト全体が型エラー0の完全クリーンな状態に

---

## 未実装タスク (優先順位順)

### **Iteration 3: ボードビュー基盤**

#### 3. ボードビューのViewModel生成UseCase
- **内容**: `GetBoardColumnsUseCase` の実装
- **詳細**:
  - タスクのグループ化、ソート、フィルタロジック
  - 列定義 (`status`既定、任意フィールド対応)
  - ViewModelの型定義とDTO
- **参照資料**:
  - [実装計画.md](./実装計画.md) - 3.3 ボードビュー
  - [仕様書ver1.md](./仕様書ver1.md) - 4.1 ボード（カンバン）
  - [画面設計_ボードビュー.md](./画面設計_ボードビュー.md)

#### 4. TaskQueryPortインターフェースの定義
- **内容**: タスククエリ用のポートインターフェース
- **詳細**:
  - フィルタ/ソート/グループ化のクエリAPI定義
  - `application/ports/task-query.ts`
- **参照資料**:
  - [実装計画.md](./実装計画.md) - 3.3 ボードビュー
  - [仕様書ver1.md](./仕様書ver1.md) - 5. クエリDSL（MVP）

#### 5. WebviewとExtensionのメッセージプロトコル実装
- **内容**: Webview ⇔ Extension間の通信プロトコル
- **詳細**:
  - メッセージ型定義 (`task:create`, `task:update`, `task:delete`, `task:query` 等)
  - メッセージハンドラのテスト (vitestによる通信モック)
  - `interface/webview/` と `interface/extension/` の骨組み
- **参照資料**:
  - [実装計画.md](./実装計画.md) - 3.3 ボードビュー (メッセージシェル)
  - [コンポーネント設計_VSCodeブリッジ.md](./コンポーネント設計_VSCodeブリッジ.md)
  - [コンポーネント設計_Webview共通UI.md](./コンポーネント設計_Webview共通UI.md)

### **Iteration 3: ボードビュー基盤** ✅ (完了: 2025-10-09)

- ✅ Webview開発環境のセットアップ (React + Vite)
- ✅ Extension ↔ Webview メッセージブリッジ
- ✅ `ExtensionBridge` クラスの実装
- ✅ React Hooks (`useExtensionBridge`, `useExtensionMessage`)
- ✅ `BaseWebviewProvider` 基底クラス
- ✅ `BoardViewProvider` 実装
- ✅ ボードビュー基礎コンポーネント
- ✅ Zustand Store (`board-store.ts`)
- ✅ `BoardView` メインコンポーネント
- ✅ `BoardColumn` コンポーネント

**参照**: [iteration3-completion-report.md](./iteration3-completion-report.md)

### **Iteration 4: Extension統合** ✅ (完了: 2025-10-09)

#### ✅ 1. ExtensionContainer (DIコンテナ) の実装
- **内容**: 依存性注入コンテナの作成
- **詳細**:
  - ✅ `ExtensionContainer` クラスの実装
  - ✅ TaskIndexServiceのシングルトン管理
  - ✅ CreateTaskUseCaseの初期化と提供
  - ✅ UpdateTaskUseCaseの初期化と提供
  - ✅ DeleteTaskUseCaseの初期化と提供
  - ✅ 共有InMemoryTaskIndexインスタンスの管理
  - ✅ MarkdownPatchServiceとVSCodeFileSystemの統合
- **ファイル**: `src/infrastructure/di/extension-container.ts` (113行)

#### ✅ 2. Extension Activation時のタスクインデックス初期化
- **内容**: `extension.ts` でのアプリケーション起動処理
- **詳細**:
  - ✅ `activate` 関数を async に変更
  - ✅ ExtensionContainerの初期化
  - ✅ ワークスペースフォルダのスキャンとインデックス構築
  - ✅ コマンド登録の維持
  - ✅ `initializeTaskIndex` 関数の実装
  - ✅ エラーハンドリングとログ出力
- **ファイル**: `src/extension.ts` (73行)

#### ✅ 3. BoardViewProviderとUseCaseの統合
- **内容**: 実際のタスクデータをWebviewに送信
- **詳細**:
  - ✅ BoardViewProviderにExtensionContainerを注入
  - ✅ `_handleBoardLoad` で実際のタスク取得
  - ✅ タスクのstatusでグループ化
  - ✅ TaskエンティティからWebview用CardDataへの変換
  - ✅ エラーハンドリング
- **ファイル**: `src/interface/webview/board-view-provider.ts` (340行)

#### ✅ 4. タスクCRUD操作のWebview統合
- **内容**: Webviewからのタスク操作リクエスト処理
- **詳細**:
  - ✅ `_handleTaskCreate` の実装 (CreateTaskUseCase呼び出し)
  - ✅ `_handleTaskUpdate` の実装 (UpdateTaskUseCase呼び出し)
  - ✅ `_handleTaskDelete` の実装 (DeleteTaskUseCase呼び出し)
  - ✅ `_handleTaskOpen` の実装 (ファイルオープンと行ジャンプ)
  - ✅ 成功時のボード自動再読み込み
  - ✅ エラー通知機能

**参照**: [iteration4-completion-report.md](./iteration4-completion-report.md)

---

## 未実装タスク (優先順位順)

### **Iteration 5: UI/UX改善** ✅ (完了: 2025-10-09)

#### ✅ 1. ドラッグ&ドロップ機能
- **内容**: ボードビューでのタスクカードのドラッグ&ドロップ
- **詳細**:
  - ✅ @dnd-kit ライブラリの導入
  - ✅ SortableTaskCard コンポーネント
  - ✅ DroppableBoardColumn コンポーネント
  - ✅ カード移動時のstatus自動更新
  - ✅ ドラッグ中の視覚的フィードバック
- **ファイル**: 
  - `webview/src/components/SortableTaskCard.tsx` (25行)
  - `webview/src/components/DroppableBoardColumn.tsx` (84行)

#### ✅ 2. タスクカードコンポーネント
- **内容**: 改善されたタスクカード表示
- **詳細**:
  - ✅ リッチな情報表示 (タイトル、期日、担当者、プロジェクト、タグ)
  - ✅ ファイル情報の表示
  - ✅ VS Codeテーマ対応
  - ✅ ドラッグ状態のスタイリング
- **ファイル**: `webview/src/components/TaskCard.tsx` (143行)

#### ✅ 3. タスク編集モーダル
- **内容**: タスクの詳細編集UI
- **詳細**:
  - ✅ モーダルコンポーネントの実装
  - ✅ フォームバリデーション
  - ✅ 全属性の編集 (title, status, assignee, due, project, tags)
  - ✅ 保存/削除/キャンセル機能
- **ファイル**: `webview/src/components/TaskEditModal.tsx` (376行)

#### ✅ 4. タスク作成フォーム
- **内容**: 新規タスク作成UI
- **詳細**:
  - ✅ フォームコンポーネントの実装
  - ✅ 必須項目バリデーション
  - ✅ デフォルト値の設定
  - ✅ Extension連携
- **ファイル**: `webview/src/components/TaskCreateForm.tsx` (400行)

#### ✅ 5. BoardView統合
- **内容**: DndContextとモーダル統合
- **詳細**:
  - ✅ ドラッグ&ドロップイベント処理
  - ✅ タスク編集モーダル統合
  - ✅ タスク作成フォーム統合
  - ✅ 「+ 新規タスク」ボタン追加
  - ✅ Extension通信
- **ファイル**: `webview/src/views/BoardView.tsx` (224行 ← 84行)

**参照**: [iteration5-completion-report.md](./iteration5-completion-report.md)

### **Iteration 6: リアルタイム更新** ✅ (完了: 2025-10-09)

#### ✅ 1. FileSystemWatcher の実装
- **内容**: Markdown ファイルの変更監視
- **詳細**:
  - ✅ `vscode.workspace.createFileSystemWatcher` による監視
  - ✅ `**/*.md` パターンでワークスペース全体を監視
  - ✅ `onChange` イベントでインデックス再構築
- **ファイル**: `src/extension.ts`

#### ✅ 2. Webview 自動更新
- **内容**: ファイル変更時の Webview 自動リロード
- **詳細**:
  - ✅ インデックス更新後に全 Webview へ通知
  - ✅ `board:reload` メッセージの送信
  - ✅ タスク作成/更新/削除後の自動リロード
- **ファイル**: 
  - `src/interface/webview/board-view-provider.ts`
  - `src/interface/webview/board-view-panel.ts`

**参照**: [iteration6-completion-report.md](./iteration6-completion-report.md)

---

## 未実装タスク (優先順位順)

### **品質改善・リファクタリング** (継続中)

#### 1. フロントエンド事前バリデーション
- **内容**: Webview 側での入力バリデーション
- **優先度**: 高
- **詳細**:
  - TaskCreateForm / TaskEditModal での due フォーマット検証
  - tags の配列チェック
  - ユーザーフレンドリーなエラーメッセージ表示
  - 無効な入力での送信阻止
- **参照**: [2025-10-09_レビュー修正ポイント.md](./2025-10-09_レビュー修正ポイント.md)

#### 2. 詳細なエラーフィードバック
- **内容**: Extension からのエラー通知の強化
- **優先度**: 中
- **詳細**:
  - エラーコードと詳細な payload の送信
  - Webview 側での入力フィールドへのフォーカス制御
  - フィールド単位のエラー表示
- **ファイル**: `src/interface/webview/board-view-panel.ts`

#### 3. ユニットテストの追加
- **内容**: フロントエンドバリデーションのテスト
- **優先度**: 中
- **詳細**:
  - バリデーション関数の単体テスト
  - happy path + invalid due のテストケース
  - Vitest による React コンポーネントテスト

---

### **将来イテレーション (M1-M3)**

#### 1. ボードビューのViewModel生成UseCase
- **内容**: `GetBoardColumnsUseCase` の実装
- **詳細**:
  - タスクのグループ化、ソート、フィルタロジック
  - 列定義 (`status`既定、任意フィールド対応)
  - ViewModelの型定義とDTO
- **参照資料**:
  - [実装計画.md](./実装計画.md) - 3.3 ボードビュー
  - [仕様書ver1.md](./仕様書ver1.md) - 4.1 ボード（カンバン）
  - [画面設計_ボードビュー.md](./画面設計_ボードビュー.md)

#### 2. TaskQueryPortインターフェースの定義
- **内容**: タスククエリ用のポートインターフェース
- **詳細**:
  - フィルタ/ソート/グループ化のクエリAPI定義
  - `application/ports/task-query.ts`
- **参照資料**:
  - [実装計画.md](./実装計画.md) - 3.3 ボードビュー
  - [仕様書ver1.md](./仕様書ver1.md) - 5. クエリDSL（MVP）

#### 3. バリデーション診断のDiagnostics実装
  - `src/infrastructure/task-index/task-index-service.factory.ts`

---

### **将来イテレーション (M1-M3)**

#### 3. バリデーション診断のDiagnostics実装
- **内容**: VS Code Diagnostics APIとの連携
- **詳細**:
  - 日付形式/演算子の検査
  - `start <= due`, `est >= 0` 検証
  - 未知ID参照、循環依存検出
  - QuickFixで自動修正提案
- **参照資料**:
  - [仕様書ver1.md](./仕様書ver1.md) - 12. バリデーション & 診断
  - [コンポーネント設計_バリデーション診断.md](./コンポーネント設計_バリデーション診断.md)

#### 4. エディタ内機能（CodeLens/Hover/補完）の実装
- **内容**: Markdown Language Features統合
- **詳細**:
  - CodeLensProvider (依存数/期日/見積の要約)
  - HoverProvider (完全属性、相互参照)
  - CompletionItemProvider (`@due(`, `project:` 補完)
  - SemanticTokensProvider (シンタックスハイライト)
- **参照資料**:
  - [仕様書ver1.md](./仕様書ver1.md) - 6. エディタ内機能

---

## 追加機能 (MVP外)

- **ガントチャート** (M1)
  - 参照: [画面設計_ガントビュー.md](./画面設計_ガントビュー.md)
- **タイムライン** (M1)
  - 参照: [画面設計_タイムラインビュー.md](./画面設計_タイムラインビュー.md)
- **カレンダービュー** (M2)
  - 参照: [画面設計_カレンダービュー.md](./画面設計_カレンダービュー.md)
- **クエリビュー** (M1)
  - 参照: [画面設計_クエリビュー.md](./画面設計_クエリビュー.md)
- **繰り返しタスク (RRULE)** (M2)
- **ICSエクスポート** (M2)
- **クリティカルパス** (M3)

---

## 追加機能 (MVP外)

- **ガントチャート** (M1)
  - 参照: [画面設計_ガントビュー.md](./画面設計_ガントビュー.md)
- **タイムライン** (M1)
  - 参照: [画面設計_タイムラインビュー.md](./画面設計_タイムラインビュー.md)
- **カレンダービュー** (M2)
  - 参照: [画面設計_カレンダービュー.md](./画面設計_カレンダービュー.md)
- **クエリビュー** (M1)
  - 参照: [画面設計_クエリビュー.md](./画面設計_クエリビュー.md)
- **繰り返しタスク (RRULE)** (M2)
- **ICSエクスポート** (M2)
- **クリティカルパス** (M3)

---

## 次のアクション

1. ✅ ~~**タスクCRUD UseCase** の実装~~ (Iteration 2 完了)
2. ✅ ~~**PatchServicePort** の設計と実装~~ (Iteration 2 完了)
3. ✅ ~~**Webview基盤** の構築~~ (Iteration 3 完了)
4. ✅ ~~**Extension統合**~~ (Iteration 4 完了)
5. ✅ ~~**ドラッグ&ドロップ機能** の実装~~ (Iteration 5 完了)
6. ✅ ~~**タスク編集モーダル** の実装~~ (Iteration 5 完了)
7. ✅ ~~**ファイルウォッチャー** によるリアルタイム更新~~ (Iteration 6 完了)
8. ✅ ~~**WebviewPanel への移行** と **Markdownファイル指定起動**~~ (Iteration 7 完了)
9. ✅ ~~**アイコン改善** と **アクセシビリティ改善**~~ (品質改善フェーズ 完了)
10. ✅ ~~**コード規約整備** と **属性ハンドリング改善**~~ (品質改善フェーズ 完了)

### 🎊 MVP完成！現在は品質向上フェーズ
- **次の優先タスク**:
  1. フロントエンド事前バリデーション（UX向上）
  2. 詳細なエラーフィードバック（デバッグ性向上）
  3. ユニットテストの追加（保守性向上）
- **将来の拡張**:
  - バリデーション診断 (M1)
  - エディタ内機能 (CodeLens/Hover/補完) (M1)
  - 追加ビュー (ガント、タイムライン、クエリ) (M1-M2)

---

## 📊 実装状況サマリー

### 完了済み (7/7 MVP Iterations + 品質改善) 🎉
- ✅ **Iteration 1**: タスクインデックス構築 (100%)
- ✅ **Iteration 2**: タスクCRUDとパッチ機能 (100%)
- ✅ **Iteration 3**: ボードビュー基盤 (100%)
- ✅ **Iteration 4**: Extension統合 (100%)
- ✅ **Iteration 5**: UI/UX改善 (100%)
  - 詳細レポート: [iteration5-completion-report.md](./iteration5-completion-report.md)
- ✅ **Iteration 6**: リアルタイム更新 (100%)
  - 詳細レポート: [iteration6-completion-report.md](./iteration6-completion-report.md)
- ✅ **Iteration 7**: UI/UX改善（実用性向上）(100%)
  - WebviewPanel移行、Markdownファイル指定起動、アイコン改善
- ✅ **品質改善**: コード規約、アクセシビリティ、属性ハンドリング (進行中)
  - TaskEditModal の Biome エラー解消
  - import ルールの明文化
  - board-view-panel の due バリデーション

### 🎊 **MVP完成 + 品質向上中！** 
**全コア機能が実装完了し、現在は品質とUX向上に注力中**

### 品質指標
- **テストカバレッジ**: 69/69 (100%)
- **TypeScript型エラー**: 0件
- **Biomeエラー**: 0件 ✅
- **実装ファイル数**: 87+ファイル
- **Webviewビルドサイズ**: 261KB (gzip: 80KB)

### 最近の改善内容 (2025-10-15)
- ✅ TaskEditModal の Biome lint エラー完全解消（a11y 対応）
- ✅ label と input の適切な紐付け（htmlFor 追加）
- ✅ キーボードナビゲーション対応（Escape キー等）
- ✅ role/aria 属性の追加（アクセシビリティ向上）
- ✅ コード規約への import ルール追記
- ✅ board-view-panel の due バリデーションと型安全性向上

---

**進捗トラッキング**: 各タスク完了時にこのファイルを更新し、✅マークを追加してください。
